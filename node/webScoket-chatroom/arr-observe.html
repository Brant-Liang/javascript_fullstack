<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <ul id="list"></ul>
  <script>
    let msgList = [{ msg: 1 }]
    function h() {
      document.getElementById('list').innerHTML = msgList.map(
        item => {
          return `<li>${item.msg}</li>`
        }
      ).join('')
    }
    let arr = [1, 2, 3, 4]
    Array.prototype.reserverJoin = () => {
      
    }
    const originPush = Array.prototype.push;
    Array.prototype.push = function(...args) {
      //1
      // 第一层 this
      console.log(this);
      console.log('监听数组的改变');
      //2 
      originPush.apply(this, args); // apply绑定this
      h()
    }
    msgList.push({ msg: 2 });
    msgList.push({ msg: 3 })
    arr.reserverJoin() // '4321'
    // Array.prototype.push()
    console.log(arr.reserverJoin());
    </script>
</body>

</html>