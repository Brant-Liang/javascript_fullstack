<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script>
    window.onload = function (){
      //1、获取a节点 添加onclick
      document.getElementsByTagName("a")[0].onclick = function () {
        //3、创建一个XMLHttpRequest对象
        var xhr = new XMLHttpRequest();
        //4、准备发送请求数据 method：url
        var method = "GET";
        var url = this.href;
        console.log(method, url);
        //5、调用XMLHttpRequest对象的open方法
        xhr.open(method, url);
        xhr.setRequestHeader("ContentType", "application/x-www-form-urlencoded")
        //6、调用XMLHttpRequest对象的send方法
        xhr.send(null);
        //7、为XMLHttpRequest对象添加onreadystatechange响应函数
        xhr.onreadystatechange = function() {
          //8、判断响应是否完成：XMLHttpRequest对象的readyState属性为4的时候
          if(xhr.readyState === 4) {
            //9、再判断响应是否可用：XMLHttpRequest对象的status属性值为200
            if(xhr.status === 200 || xhr.status === 304) {
              alert(xhr.responseText);
            }
          }
        }

        
        //10、打印响应结果
        // 2、取消a节点的默认行为
        return false;
      }
    }
  </script>
</head>
<body>
  <a href="Ajax.txt">Hello Ajax</a>
</body>
</html>